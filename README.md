# ๐ Telegram VPN Bot (Xray/XUI Manager)

ุงู ูพุฑูฺู ฺฉ **ุฑุจุงุช ุชูฺฏุฑุงู** ุงุณุช ฺฉู ุจู ุดูุง ุงูฺฉุงู ูุฏุฑุช ฺฉุงูู ุงฺฉุงูุชโูุง VPN (ูุจุชู ุจุฑ **Xray/XUI**) ุฑุง ูโุฏูุฏ.  
ฺฉุงุฑุจุฑุงู ูโุชูุงููุฏ ุงุฒ ุทุฑู ุงู ุฑุจุงุช:
- ุฎุฑุฏ ุงุดุชุฑุงฺฉ ุงูุฌุงู ุฏููุฏ
- ูุด ูุงุฑุฒ ุงุฑุณุงู ฺฉููุฏ
- ุณุฑูุณโูุง ูุนุงู ุฎูุฏ ุฑุง ูุดุงูุฏู ู ุชูุฏุฏ ฺฉููุฏ
- ูุดุฏุงุฑ ฺฉุงูุด ุญุฌู ุง ูุฒุฏฺฉ ุดุฏู ุจู ุชุงุฑุฎ ุงููุถุง ุฏุฑุงูุช ฺฉููุฏ
- ุฑุงูููุง ูุตุจ ุงูพูฺฉุดู ู ููฺฉโูุง ุฏุงูููุฏ ฺฉูุงูุชโูุง ุฑุง ุจุจููุฏ
- ุจุง ูพุดุชุจุงู ุฏุฑ ุงุฑุชุจุงุท ุจุงุดูุฏ

ุงุฏูู ูู ูโุชูุงูุฏ:
- ุงฺฉุงูุชโูุง ุฑุง ุจู ฺฉุงุฑุจุฑุงู ููฺฉ ฺฉูุฏ ุง ุญุฐู ฺฉูุฏ
- ูพุงู ูพุดุชุจุงู ุฑุง ูพุงุณุฎ ุฏูุฏ
- ูุดุฏุงุฑูุง ูุฑุจูุท ุจู ุงุณุชูุงุฏู ุบุฑูุฌุงุฒ (ุชุนุฏุงุฏ IP ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ) ุฏุฑุงูุช ฺฉูุฏ
- ุจู ฺฉุงุฑุจุฑุงู ููฺฉ ุงุชุตุงู ุงุฑุณุงู ฺฉูุฏ

---

## โจ ูฺฺฏโูุง (Features)

### ุจุฑุง ฺฉุงุฑุจุฑุงู
- โ ุจุฑุฑุณ ุฎูุฏฺฉุงุฑ ุนุถูุช ุฏุฑ ฺฉุงูุงู ูุจู ุงุฒ ุงุณุชูุงุฏู  
- โ ุฎุฑุฏ ุงฺฉุงูุช (ฺฉโฺฉุงุฑุจุฑู ู ุฏูฺฉุงุฑุจุฑู ุจุง ุญุฌูโูุง ูุฎุชูู)  
- โ ุงุฑุณุงู ูุด ูุงุฑุฒ ุจู ุงุฏูู  
- โ ูุดุงูุฏู ฺฏุฒุงุฑุด ุงฺฉุงูุช (ุญุฌู ูุตุฑูุ ุจุงูโูุงูุฏูุ ุชุงุฑุฎ ุงููุถุงุ ูุถุนุช ูุนุงู/ุบุฑูุนุงู)  
- โ ุฏุฑุงูุช ูุดุฏุงุฑ:
  - ุญุฌู ฺฉูุชุฑ ุงุฒ `1GB`
  - ฺฉูุชุฑ ุงุฒ `3 ุฑูุฒ` ุชุง ุงููุถุง  
- โ ุฏุณุชุฑุณ ุณุฑุน ุจู ููฺฉ ุฏุงูููุฏ ุงูพูฺฉุดูโูุง (iOS, Android, Windows, MacOS)  
- โ ุงูฺฉุงู ุจุฑูุฑุงุฑ ุงุฑุชุจุงุท ูุณุชูู ุจุง ูพุดุชุจุงู  

### ุจุฑุง ุงุฏูู
- ๐ค ูุดุงูุฏู ุงุนูุงู ูุนุงู ุดุฏู ฺฉุงุฑุจุฑุงู  
- ๐ ููฺฉโฺฉุฑุฏู ุงฺฉุงูุช ุจู ฺฉุงุฑุจุฑ ู ุชุนู ูุญุฏูุฏุช ุขโูพ  
- โ ุญุฐู ุณุฑูุณ ุงุฒ ฺฉุงุฑุจุฑ  
- ๐จ ุฏุฑุงูุช ูพุงู ูพุดุชุจุงู ู ูพุงุณุฎโุฏู  
- โ๏ธ ูุดุฏุงุฑ ุงุชุตุงู ุจุด ุงุฒ ุญุฏ ูุฌุงุฒ (ุจุดุชุฑ ุงุฒ IP ุชุนูโุดุฏู)  
- ๐ก ุงุฑุณุงู ูุณุชูู ููฺฉ ุงุชุตุงู ุจู ฺฉุงุฑุจุฑ  

---

## ๐๏ธ ุชฺฉููููฺโูุง ุงุณุชูุงุฏูโุดุฏู
- [Python](https://www.python.org/)  
- [python-telegram-bot v20+](https://docs.python-telegram-bot.org/)  
- [SQLite3](https://www.sqlite.org/) (ุจุฑุง ูุฏุฑุช ุฏุชุงุจุณ ฺฉุงุฑุจุฑุงู)  
- [dotenv](https://pypi.org/project/python-dotenv/) (ุจุฑุง ูุฏุฑุช ูุชุบุฑูุง ูุญุท)  

---

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู
```
โโโ bot.py              # ููุทู ุงุตู ุฑุจุงุช ู ููุฏูุฑูุง
โโโ db.py               # ูุฏุฑุช ุฏุชุงุจุณ ฺฉุงุฑุจุฑุงู ู ุงุดุชุฑุงฺฉโูุง
โโโ bot_users.db        # ุฏุชุงุจุณ SQLite (ุจุนุฏ ุงุฒ ุงููู ุงุฌุฑุง ุณุงุฎุชู ูโุดูุฏ)
โโโ .env                # ุชูุธูุงุช ู ฺฉูุฏูุง (ุชูฺฉู ุฑุจุงุชุ ุขโุฏ ุงุฏููุ ูุณุฑ ูุงฺฏ ู ุฏุชุงุจุณ)
โโโ requirements.txt    # ูุงุจุฑุฑ ูุงุจ ูุงุฒู ุจุฑุง ุงุฌุฑุง ุณูุฑุณ
```

---

## โ๏ธ ุฑุงูโุงูุฏุงุฒ (Setup)

### 1๏ธโฃ ูุตุจ ูพุดโูุงุฒูุง
```bash
git clone https://github.com/majid-abedi/vpn-telegram-bot.git
cd vpn-telegram-bot
pip install -r requirements.txt
```

### 2๏ธโฃ ุงุฌุงุฏ ูุงู `.env`
ฺฉ ูุงู ุจู ูุงู `.env` ุฏุฑ ุฑุดู ูพุฑูฺู ุจุณุงุฒุฏ:
```env
BOT_TOKEN=ุชูฺฉู_ุฑุจุงุช_ุชูฺฏุฑุงู
ADMIN_CHAT_ID=ุขโุฏโูฺุชโูโุงุฏูู
XRAY_ACCESS_LOG=ุขุฏุฑุณโูโูุงฺฏ
XUI_DB_PATH=ุขุฏุฑุณโูโุฏุชุงุจุณ
CARD_INFO=xxxx-xxxx-xxxx-xxxx
CHANNEL_USERNAME=ูุฒุฑโูโฺฉุงูุงูโูโุชูฺฏุฑุงู
```

### 3๏ธโฃ ุงุฌุฑุง ุฑุจุงุช
```bash
python bot.py
```

---

## ๐งโ๐ป ุฏุณุชูุฑุงุช ุงุฏูู
- `/link <telegram_id> <email> <allow_ip>` โ ููฺฉ ฺฉุฑุฏู ุงฺฉุงูุช ุจู ฺฉุงุฑุจุฑ  
- `/unlink <telegram_id> <email>` โ ุญุฐู ุงฺฉุงูุช ฺฉุงุฑุจุฑ  
- `/reply <telegram_id> <message>` โ ูพุงุณุฎ ุจู ูพุงู ูพุดุชุจุงู  
- `/connection <telegram_id> <link>` โ ุงุฑุณุงู ููฺฉ ุงุชุตุงู ุจู ฺฉุงุฑุจุฑ  

---


## ๐ English Summary

**Telegram VPN Bot** is a management bot for **Xray/XUI VPN services**.  
It allows users to purchase, renew, and manage subscriptions directly inside Telegram, while admins can monitor usage, link accounts, and get alerts for abnormal activities.

๐ Key Features:
- User subscription management  
- Automated expiry & quota alerts  
- Channel membership check  
- Payment receipt verification  
- Admin tools for linking/unlinking accounts and sending connection details  

---

## ๐ License
MIT License โ feel free to use, modify, and share.

---

## ๐ค Contributing
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

---

## โญ ุญูุงุช
ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุงุชูู ููุฏ ุจูุฏุ ุฎูุดุญุงู ูโุดู ฺฉ โญ ุจู ุฑูพุงุฒุชูุฑ ุจุฏุฏ.
